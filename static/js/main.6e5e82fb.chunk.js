(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(8),c=a.n(r),s=(a(15),a(1)),u=a(2),o=a(4),i=a(3),m=a(5),h=(a(16),a(6));function d(e,t,a){if(void 0===e.call[t]||!e.call[t][a])return"";var l=parseInt(e.call[t][a]);if(void 0===e.result[t]||!e.result[t][a])return l;var n=parseInt(e.result[t][a]);return n<l?"-"+l:l===n?l.toString()+".0":l.toString()+"."+(n-l)}function g(e){var t,a,l=[0,0,0,0];return e.call.forEach(function(n,r){e.call[r].forEach(function(n,c){t=e.call[r][c],a=e.result[r][c],l[c]=t?a?function(e,t){var a=Math.floor(e),l=Math.abs(e)-Math.abs(Math.floor(e)),n=Math.floor(t),r=Math.abs(t)-Math.abs(Math.floor(t)),c=a+n,s=l+r;s>1&&(c+=1,s-=1);return c<0?-1*(Math.abs(c)+s):c+s}(l[c],function(e,t){var a=0;a=t<e?-1*e:e===t?e:e+(t-e)/10;return a}(parseFloat(t),parseFloat(a))):l[c]+parseFloat(t):l[c]+0})}),l}var E=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(o.a)(this,Object(i.a)(t).call(this,e));var l=e.game;return null===l&&(l={gameId:null,players:[null,null,null,null],call:[[null,null,null,null]],result:[[null,null,null,null]],complete:!1}),a.state={game:l,editRoundIndex:null,players:[null,null,null,null]},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;if(null===this.state.game.gameId)return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{class:"table table-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handlePlayerChange(t,0)},placeholder:"Player 1"})),n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handlePlayerChange(t,1)},placeholder:"Player 2"})),n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handlePlayerChange(t,2)},placeholder:"Player 3"})),n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handlePlayerChange(t,3)},placeholder:"Player 4"})),n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"button",onClick:function(){return e.startGame()},value:"Start Game"}))))));var t=g(this.state.game);return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{class:"table table-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Round"),n.a.createElement("th",{scope:"col"}),n.a.createElement("th",{scope:"col"},this.state.game.players[0]),n.a.createElement("th",{scope:"col"},this.state.game.players[1]),n.a.createElement("th",{scope:"col"},this.state.game.players[2]),n.a.createElement("th",{scope:"col"},this.state.game.players[3]),n.a.createElement("th",{scope:"col"},n.a.createElement("input",{type:"button",onClick:function(){return e.clearGameId()},value:"Save Game"})))),n.a.createElement("tbody",null,this.state.game.call.map(function(t,a){return e.getItem(t,a)})),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("td",{rowspan:"2"},"Result"),n.a.createElement("td",null),n.a.createElement("td",null,t[0].toFixed(1)),n.a.createElement("td",null,t[1].toFixed(1)),n.a.createElement("td",null,t[2].toFixed(1)),n.a.createElement("td",null,t[3].toFixed(1))))))}},{key:"startGame",value:function(){if(this.state.game.players[0]&&this.state.game.players[1]&&this.state.game.players[2]&&this.state.game.players[3]){var e=Date.now(),t=this.state.game;t.gameId=e,this.setState({game:t}),this.props.onSave(t)}else alert("Enter all players")}},{key:"clearGameId",value:function(){this.props.onClearGameId()}},{key:"handlePlayerChange",value:function(e,t){var a=e.target.value,l=this.state.game;l.players[t]=a,this.setState({game:l})}},{key:"getItem",value:function(e,t){var a=this;return this.state.editRoundIndex===t?n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{rowspan:"2"},t+1),n.a.createElement("td",null,"call"),this.getSelectRow(!0,0,e[0]),this.getSelectRow(!0,1,e[1]),this.getSelectRow(!0,2,e[2]),this.getSelectRow(!0,3,e[3]),n.a.createElement("td",{rowspan:"2"},n.a.createElement("button",{onClick:function(){a.saveItem(t)}}," Save "))),n.a.createElement("tr",null,n.a.createElement("td",null,"points"),this.getSelectRow(!1,0,this.state.game.result[t]&&this.state.game.result[t][0]),this.getSelectRow(!1,1,this.state.game.result[t]&&this.state.game.result[t][1]),this.getSelectRow(!1,2,this.state.game.result[t]&&this.state.game.result[t][2]),this.getSelectRow(!1,3,this.state.game.result[t]&&this.state.game.result[t][3]))):n.a.createElement("tr",null,n.a.createElement("td",null,t+1),n.a.createElement("td",null),n.a.createElement("td",null,d(this.state.game,t,0)),n.a.createElement("td",null,d(this.state.game,t,1)),n.a.createElement("td",null,d(this.state.game,t,2)),n.a.createElement("td",null,d(this.state.game,t,3)),n.a.createElement("td",null,n.a.createElement("button",{onClick:function(){a.editItem(t)}}," Edit ")))}},{key:"getSelectRow",value:function(e,t,a){var l=this,r=[],c=!0,s=!1,u=void 0;try{for(var o,i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13].entries()[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var m=o.value,d=Object(h.a)(m,2),g=d[0],E=d[1];r.push(n.a.createElement("option",{key:g,value:E},E))}}catch(p){s=!0,u=p}finally{try{c||null==i.return||i.return()}finally{if(s)throw u}}return n.a.createElement("td",null,n.a.createElement("select",{value:a,onChange:function(a){return l.handleInputChange(a,e,t)}},n.a.createElement("option",{value:""},"Select"),r))}},{key:"handleInputChange",value:function(e,t,a){var l=""===e.target.value?null:e.target.value,n=this.state.game;t?n.call[this.state.editRoundIndex][a]=l:n.result[this.state.editRoundIndex][a]=l,this.setState({game:n})}},{key:"editItem",value:function(e){var t=this.state.game;this.state.game.call[e]||(t.call[e]=[null,null,null,null]),this.state.game.result[e]||(t.result[e]=[null,null,null,null]),this.setState({editRoundIndex:e,game:t})}},{key:"saveItem",value:function(e){var t=!1,a=!0,l=0,n="",r=!0,c=!1,s=void 0;try{for(var u,o=this.state.game.result[this.state.editRoundIndex].entries()[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var i=u.value,m=Object(h.a)(i,2);m[0];m[1]&&(t=!0)}}catch(b){c=!0,s=b}finally{try{r||null==o.return||o.return()}finally{if(c)throw s}}if(t){var d=!0,g=!1,E=void 0;try{for(var p,f=this.state.game.result[this.state.editRoundIndex].entries()[Symbol.iterator]();!(d=(p=f.next()).done);d=!0){var v=p.value,y=Object(h.a)(v,2),I=(y[0],y[1]);I?l+=parseInt(I):a=!1}}catch(b){g=!0,E=b}finally{try{d||null==f.return||f.return()}finally{if(g)throw E}}}if(t)if(a)if(13!==l)n="Sum of all points must be 13";else{var S=this.state.game;S.call.length<5&&(S.call.push([null,null,null,null]),S.result.push([null,null,null,null])),this.setState({editRoundIndex:null,resultMessage:n})}else n="Enter all points";else this.setState({editRoundIndex:null,resultMessage:n}),this.props.onSave(this.state.game);""!==n&&alert(n)}}]),t}(n.a.Component),p=(a(17),function(e){function t(e){var a;Object(s.a)(this,t),a=Object(o.a)(this,Object(i.a)(t).call(this,e));var l=localStorage.getItem("games")?JSON.parse(localStorage.getItem("games")):[];l=Array.from(l),console.log("local storage ",localStorage.getItem("games")),console.log("local storage current game id",localStorage.getItem("currentGameId"));var n=localStorage.getItem("currentGameId");n=n?Number(n):null;var r=null,c=null;return l.forEach(function(e,t){e.gameId===n&&(r=t,c=e)}),null!==r&&l.splice(r,1),a.state={games:l,currentGame:c},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("h2",null,"Call Break Counter ")),n.a.createElement("div",{className:"container body-container"},n.a.createElement("div",{class:"row current-game"},n.a.createElement(E,{onSave:function(t){return e.saveGame(t)},onClearGameId:function(){return e.clearGameId()},game:this.state.currentGame})),n.a.createElement("div",{class:"row"},this.getHistory())))}},{key:"clearGameId",value:function(){var e=e.splice();e.this.setState({currentGame:null}),localStorage.removeItem("currentGameId")}},{key:"setCurrentGameId",value:function(e){var t=null;this.state.games.forEach(function(a,l){a.gameId===e&&(t=a)}),this.setState({currentGame:t}),this.localStorage.setItem("currentGameId",e)}},{key:"getHistory",value:function(){var e=this,t=this.state.games,a=[];if(t.forEach(function(e,t){a[t]=g(e)}),t.length)return t.map(function(t,l){return n.a.createElement("table",{class:"table table-dark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"Round"),n.a.createElement("th",{scope:"col"},t.players[0]),n.a.createElement("th",{scope:"col"},t.players[1]),n.a.createElement("th",{scope:"col"},t.players[2]),n.a.createElement("th",{scope:"col"},t.players[3]),n.a.createElement("th",{scope:"col"},e.gameStatusBtn(t)))),n.a.createElement("tbody",null,e.getTableRow(t)),n.a.createElement("tfoot",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Result"),n.a.createElement("td",null,a[l][0].toFixed(1)),n.a.createElement("td",null,a[l][1].toFixed(1)),n.a.createElement("td",null,a[l][2].toFixed(1)),n.a.createElement("td",null,a[l][3].toFixed(1)),n.a.createElement("td",null))))})}},{key:"gameStatusBtn",value:function(e){var t=this,a=!0;return 5===e.call.length?e.call.forEach(function(t,l){e.call[l].forEach(function(t,n){(null===e.call[l][n]||e.result[l][n])&&(a=!1)})}):a=!1,a?"":n.a.createElement("input",{type:"button",onClick:function(){return t.finishGame(e.gameId)},value:"Finish"})}},{key:"finishGame",value:function(e){var t=this,a=this.state.currentGame;this.state.games.forEach(function(l,n){l.gameId===e&&(t.setState({currentGame:a}),a=l)}),localStorage.setItem("currentGameId",e)}},{key:"saveGame",value:function(e){console.log("save game",e);var t=e.gameId,a=null,l=this.state.games;l.forEach(function(e,l){e.gameId===t&&(a=l)}),a?l[a]=e:l.push(e),localStorage.setItem("games",JSON.stringify(l)),localStorage.setItem("currentGameId",e.gameId)}},{key:"getTableRow",value:function(e){return e.call.map(function(t,a){return n.a.createElement("tr",null,n.a.createElement("td",null,a+1),n.a.createElement("td",null,d(e,a,0)),n.a.createElement("td",null,d(e,a,1)),n.a.createElement("td",null,d(e,a,2)),n.a.createElement("td",null,d(e,a,3)))})}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(18);c.a.render(n.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.6e5e82fb.chunk.js.map